function getLoveTrianglesCount(preferences = []) {
  let lover = 0;
  let triangle = 0;
  for(let i =0; i < preferences.length; i++){
    if(preferences[i] == i + 2 && lover < 2){
      lover++;
      continue;
    }
    if(preferences[i] !== i +2 && lover < 2) {
      lover = 0;
      continue;
    }
    if(lover === 2 && preferences[i] === i - 1) {
      triangle++;
      lover = 0;
      continue;
    }
    lover = 0;
  }
  return triangle;
};

getLoveTrianglesCount([2, 3, 1])